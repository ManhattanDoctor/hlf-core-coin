# @hlf-core/coin

> TypeScript –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –∏—Ö –±–∞–ª–∞–Ω—Å–∞–º–∏ –≤ –±–ª–æ–∫—á–µ–π–Ω-—Å–∏—Å—Ç–µ–º–∞—Ö

[![npm version](https://badge.fury.io/js/@hlf-core%2Fcoin.svg)](https://badge.fury.io/js/@hlf-core%2Fcoin)
[![License: ISC](https://img.shields.io/badge/License-ISC-blue.svg)](https://opensource.org/licenses/ISC)

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

**@hlf-core/coin** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ TypeScript –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ –±–ª–æ–∫—á–µ–π–Ω-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–∏—Ñ—Ä–æ–≤—ã–º–∏ –∞–∫—Ç–∏–≤–∞–º–∏: –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–ª–∞–Ω—Å–∞–º–∏, –≤–∫–ª—é—á–∞—è —Å–∏—Å—Ç–µ–º—É —É–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤ –∏ –∞—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

### ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ü™ô **–ü–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ç–æ–∫–µ–Ω–æ–≤**: —Å–æ–∑–¥–∞–Ω–∏–µ, —ç–º–∏—Å—Å–∏—è, –ø–µ—Ä–µ–≤–æ–¥—ã, —Å–∂–∏–≥–∞–Ω–∏–µ
- üîí **–°–∏—Å—Ç–µ–º–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤**: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- üìä **–î–µ—Ç–∞–ª—å–Ω—ã–π –∞—É–¥–∏—Ç**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª
- üîó **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –≥–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è –¥–ª—è Hyperledger Fabric
- üíØ **–¢–æ—á–Ω–æ—Å—Ç—å**: —Ä–∞–±–æ—Ç–∞ —Å —á–∏—Å–ª–∞–º–∏ —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install @hlf-core/coin
```

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```typescript
import { 
    Coin, 
    CoinUtil, 
    CoinAccountUtil, 
    CoinBalance,
    CoinTransferCommand 
} from '@hlf-core/coin';

// 1. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
const coin = new Coin();
coin.uid = CoinUtil.createUid('MYTOKEN', 8, 'issuer');
coin.balance = CoinBalance.create();

// 2. –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const account = CoinAccountUtil.create(coin.uid, 'user1');
account.add('1000'); // –≠–º–∏—Å—Å–∏—è 1000 —Ç–æ–∫–µ–Ω–æ–≤

// 3. –ü–µ—Ä–µ–≤–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤
const transfer = new CoinTransferCommand({
    from: 'user1',
    to: 'user2',
    amount: '100',
    coinUid: coin.uid
});

console.log(`–ë–∞–ª–∞–Ω—Å: ${account.getTotal()}`); // "1000"
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### üí≥ CoinAccount - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```typescript
const account = new CoinAccount();
account.uid = '‚Üícoin~account:coin_user1_8_BTC~user1';
account.inUse = '1000';  // –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
account.held = '200';    // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
account.ownerUid = 'user1';

// –û–ø–µ—Ä–∞—Ü–∏–∏
account.add('500');      // –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ: +500
account.hold('100');     // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞: 100 ‚Üí held
account.remove('300');   // –°–ø–∏—Å–∞–Ω–∏–µ: -300
account.unhold('50');    // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞: 50 ‚Üí inUse

// –ü—Ä–æ–≤–µ—Ä–∫–∏
console.log(account.isEmpty());     // false
console.log(account.getTotal());    // "1200" (1000 + 200)
```

#### üìà CoinBalance - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ù–∞—Å–ª–µ–¥—É–µ—Ç `CoinAccount` –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∞—É–¥–∏—Ç:

```typescript
const balance = CoinBalance.create();
balance.add('1000');     // emitted: 1000
balance.remove('200');   // burned: 200

console.log(balance.emitted); // "1000" - –≤—Å–µ–≥–æ —ç–º–∏—Ç–∏—Ä–æ–≤–∞–Ω–æ
console.log(balance.burned);  // "200"  - –≤—Å–µ–≥–æ —Å–æ–∂–∂–µ–Ω–æ
console.log(balance.total);   // "800"  - —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
```

#### üîß CoinUtil - –£—Ç–∏–ª–∏—Ç—ã

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏:

```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UID —Ç–æ–∫–µ–Ω–∞
const coinUid = CoinUtil.createUid('BTC', 8, 'owner1');
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "coin_owner1_8_BTC"

// –†–∞–∑–±–æ—Ä UID
const parts = CoinUtil.decomposeUid(coinUid);
// { coinId: 'BTC', decimals: 8, ownerUid: 'owner1' }

// –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
const cents = CoinUtil.toCent('1.5', 2);     // "150"
const amount = CoinUtil.fromCent('150', 2);  // "1.5"
const percent = CoinUtil.toPercent('25', '100'); // 25

// –í–∞–ª–∏–¥–∞—Ü–∏—è
const isValid = CoinUtil.isCoin('coin_user_8_BTC'); // true
```

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –≠–º–∏—Å—Å–∏—è —Ç–æ–∫–µ–Ω–æ–≤

```typescript
import { CoinEmitCommand, CoinEmittedEvent } from '@hlf-core/coin';

// –ö–æ–º–∞–Ω–¥–∞ —ç–º–∏—Å—Å–∏–∏
const emitCommand = new CoinEmitCommand({
    amount: '10000',
    coinUid: 'coin_issuer_8_MYTOKEN',
    objectUid: 'user1',
    transactionHash: '0x123abc...'
});

// –°–æ–±—ã—Ç–∏–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
const emittedEvent = new CoinEmittedEvent({
    amount: '10000',
    coinUid: 'coin_issuer_8_MYTOKEN',
    objectUid: 'user1'
});
```

### –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏

```typescript
import { CoinTransferCommand, CoinTransferredEvent } from '@hlf-core/coin';

// –ö–æ–º–∞–Ω–¥–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
const transferCommand = new CoinTransferCommand({
    from: 'alice',
    to: 'bob',
    amount: '500',
    coinUid: 'coin_issuer_8_MYTOKEN'
});

// –°–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞
const transferEvent = new CoinTransferredEvent({
    from: 'alice',
    to: 'bob',
    amount: '500',
    coinUid: 'coin_issuer_8_MYTOKEN'
});
```

### –°–∏—Å—Ç–µ–º–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è —Å—Ä–µ–¥—Å—Ç–≤

```typescript
import { 
    CoinHoldCommand, 
    CoinUnholdCommand,
    CoinHoldedEvent,
    CoinUnholdedEvent 
} from '@hlf-core/coin';

// –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
const holdCommand = new CoinHoldCommand({
    from: 'user1',
    amount: '100',
    coinUid: 'coin_issuer_8_MYTOKEN'
});

// –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ - —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
const unholdCommand = new CoinUnholdCommand({
    from: 'user1',
    amount: '100',
    coinUid: 'coin_issuer_8_MYTOKEN'
});
```

### –°–∂–∏–≥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

```typescript
import { CoinBurnCommand, CoinBurnedEvent } from '@hlf-core/coin';

const burnCommand = new CoinBurnCommand({
    amount: '1000',
    coinUid: 'coin_issuer_8_MYTOKEN',
    objectUid: 'user1'
});

const burnedEvent = new CoinBurnedEvent({
    amount: '1000',
    coinUid: 'coin_issuer_8_MYTOKEN',
    objectUid: 'user1'
});
```

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ—à–∏–±–æ–∫:

```typescript
import { 
    CoinAmountMustBeGreaterThanZeroError,
    CoinBalanceMustBeGreaterThanAmountError 
} from '@hlf-core/coin';

try {
    account.add('-100'); // –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Å—É–º–º–∞
} catch (error) {
    if (error instanceof CoinAmountMustBeGreaterThanZeroError) {
        console.log(`–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—É–º–º–∞: ${error.details}`);
    }
}

try {
    account.remove('5000'); // –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
} catch (error) {
    if (error instanceof CoinBalanceMustBeGreaterThanAmountError) {
        console.log(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤:`, error.details);
        // { coinUid: '...', current: '1000', required: '5000' }
    }
}
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Hyperledger Fabric

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å Hyperledger Fabric:

```typescript
import { HlfTransport } from '@hlf-core/common';

// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –≤ chaincode
const transport = new HlfTransport();
const result = await transport.execute(transferCommand);

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
transport.on('CoinTransferred', (event) => {
    console.log('–ü–µ—Ä–µ–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω:', event.data);
});
```

## üìä –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–±—ã—Ç–∏–π

### –ö–æ–º–∞–Ω–¥—ã (Commands)

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `CoinEmitCommand` | –≠–º–∏—Å—Å–∏—è –Ω–æ–≤—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ |
| `CoinBurnCommand` | –°–∂–∏–≥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ |
| `CoinTransferCommand` | –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ |
| `CoinHoldCommand` | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ |
| `CoinUnholdCommand` | –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤ |
| `CoinGetCommand` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–∫–µ–Ω–µ |
| `CoinBalanceGetCommand` | –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ |

### –°–æ–±—ã—Ç–∏—è (Events)

| –°–æ–±—ã—Ç–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `CoinEmittedEvent` | –¢–æ–∫–µ–Ω—ã —ç–º–∏—Ç–∏—Ä–æ–≤–∞–Ω—ã |
| `CoinBurnedEvent` | –¢–æ–∫–µ–Ω—ã —Å–æ–∂–∂–µ–Ω—ã |
| `CoinTransferredEvent` | –ü–µ—Ä–µ–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω |
| `CoinHoldedEvent` | –°—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã |
| `CoinUnholdedEvent` | –°—Ä–µ–¥—Å—Ç–≤–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã |

## üé® –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞

```typescript
import { Coin, CoinBalance } from '@hlf-core/coin';

class MyCustomToken extends Coin {
    public customProperty: string;
    
    constructor() {
        super();
        this.balance = new CoinBalance();
        this.customProperty = 'custom_value';
    }
}

const token = new MyCustomToken();
token.uid = CoinUtil.createUid('CUSTOM', 18, 'owner');
```

### –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è —Ç–æ–∫–µ–Ω–æ–≤
const portfolio = new Map<string, CoinAccount>();

const btcAccount = CoinAccountUtil.create('coin_owner_8_BTC', 'user1');
const ethAccount = CoinAccountUtil.create('coin_owner_18_ETH', 'user1');

portfolio.set('BTC', btcAccount);
portfolio.set('ETH', ethAccount);

// –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º
portfolio.get('BTC')?.add('1000');
portfolio.get('ETH')?.add('500');

// –û–±—â–∏–π –±–∞–ª–∞–Ω—Å –≤ USD (–ø—Ä–∏–º–µ—Ä)
const totalValue = Array.from(portfolio.values())
    .reduce((sum, account) => sum + parseFloat(account.getTotal()), 0);
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

```typescript
import { MathUtil } from '@ts-core/common';

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ—Ç–æ—á–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
MathUtil.config = {
    precision: 100,
    toExpPos: 100,
    toExpNeg: -100
};
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```typescript
import { validate } from 'class-validator';

const account = new CoinAccount();
account.uid = 'invalid_uid';
account.inUse = 'not_a_number';

const errors = await validate(account);
if (errors.length > 0) {
    console.log('–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:', errors);
}
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- üî¢ **–¢–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ –¥–ª—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏
- üéØ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
- üíæ **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏**: –ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
import { CoinAccount, CoinUtil } from '@hlf-core/coin';

describe('CoinAccount', () => {
    let account: CoinAccount;

    beforeEach(() => {
        account = CoinAccountUtil.create('coin_test_8_BTC', 'user1');
    });

    test('should add tokens correctly', () => {
        account.add('1000');
        expect(account.inUse).toBe('1000');
        expect(account.getTotal()).toBe('1000');
    });

    test('should hold tokens correctly', () => {
        account.add('1000');
        account.hold('200');
        
        expect(account.inUse).toBe('800');
        expect(account.held).toBe('200');
        expect(account.getTotal()).toBe('1000');
    });
});
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! 

### –ö–∞–∫ –ø–æ–º–æ—á—å:

1. üêõ **–°–æ–æ–±—â–∏—Ç—å –æ–± –æ—à–∏–±–∫–µ**: —Å–æ–∑–¥–∞–π—Ç–µ issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
2. üí° **–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ**: –æ–ø–∏—à–∏—Ç–µ –∏–¥–µ—é –≤ issue
3. üîß **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥**: —Å–¥–µ–ª–∞–π—Ç–µ fork –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ pull request
4. üìñ **–£–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**: –ø–æ–º–æ–≥–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ª—É—á—à–µ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–æ–¥—É:

- TypeScript —Å —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

ISC License

Copyright (c) 2024 Renat Gubaev

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**Renat Gubaev**  
üìß Email: [renat.gubaev@gmail.com](mailto:renat.gubaev@gmail.com)  
üêô GitHub: [@ManhattanDoctor](https://github.com/ManhattanDoctor)

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- üì¶ [NPM Package](https://www.npmjs.com/package/@hlf-core/coin)
- üêõ [Issues](https://github.com/ManhattanDoctor/hlf-core-common/issues)
- üìñ [Documentation](https://github.com/ManhattanDoctor/hlf-core-common#readme)
- üèóÔ∏è [Hyperledger Fabric](https://hyperledger-fabric.readthedocs.io/)

---

‚≠ê **–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!**